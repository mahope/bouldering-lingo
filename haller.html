<!DOCTYPE html>
<html lang="da" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Klatrehaller i Danmark ‚Äì Find dit n√¶rmeste bouldercenter üßó</title>
    <meta name="description" content="Komplet oversigt over 50+ klatrehaller og bouldercentre i Danmark. Find haller i K√∏benhavn, Aarhus, Odense, Aalborg og resten af landet med adresser, kort og links.">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://boulder.holstjensen.nu/haller.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://boulder.holstjensen.nu/haller.html">
    <meta property="og:title" content="Klatrehaller i Danmark üßó">
    <meta property="og:description" content="Find 50+ klatrehaller og bouldercentre i hele Danmark. K√∏benhavn, Aarhus, Odense, Aalborg og mere.">
    <meta property="og:locale" content="da_DK">
    <meta property="og:site_name" content="Bouldering Lingo">
    <meta property="og:image" content="https://boulder.holstjensen.nu/images/og-image.png">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Klatrehaller i Danmark üßó">
    <meta name="twitter:description" content="Find 50+ klatrehaller og bouldercentre i hele Danmark.">
    
    <!-- Additional SEO -->
    <meta name="keywords" content="klatrehaller danmark, bouldercentre, klatring k√∏benhavn, bouldering aarhus, klatrev√¶g odense, indoor klatring, boulders, blocs walls">
    <meta name="author" content="Mads Holst Jensen">
    <meta name="robots" content="index, follow">
    
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    
    <!-- Theme & Mobile -->
    <meta name="theme-color" content="#0a0a0b" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#f5f5f7" media="(prefers-color-scheme: light)">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css?v=20260131i">
    
    <style>
        /* Map styles */
        #map {
            height: 400px;
            width: 100%;
            border-radius: 16px;
            margin-bottom: 2rem;
            z-index: 1;
        }
        
        [data-theme="dark"] #map {
            filter: invert(1) hue-rotate(180deg);
        }
        
        [data-theme="dark"] #map .leaflet-marker-icon,
        [data-theme="dark"] #map .leaflet-popup-content-wrapper,
        [data-theme="dark"] #map .leaflet-popup-tip {
            filter: invert(1) hue-rotate(180deg);
        }
        
        .leaflet-popup-content-wrapper {
            border-radius: 12px;
        }
        
        .leaflet-popup-content {
            margin: 12px 16px;
        }
        
        .popup-title {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 4px;
        }
        
        .popup-type {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 8px;
        }
        
        .popup-link {
            color: var(--accent, #a855f7);
            text-decoration: none;
            font-size: 0.85rem;
        }
        
        .popup-link:hover {
            text-decoration: underline;
        }
        
        /* Stats bar */
        .stats-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background: var(--card-bg, rgba(255,255,255,0.05));
            border-radius: 12px;
        }
        
        .stat-item {
            text-align: center;
            padding: 0.5rem 1.5rem;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent, #a855f7);
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary, #888);
        }
        
        /* Region headers */
        .region-section {
            margin-bottom: 2rem;
        }
        
        .region-header {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 2rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent, #a855f7);
        }
        
        .region-count {
            font-size: 0.9rem;
            font-weight: 400;
            color: var(--text-secondary, #888);
            margin-left: 0.5rem;
        }
        
        /* Hall cards */
        .hall-card {
            background: var(--card-bg, rgba(255,255,255,0.05));
            border-radius: 12px;
            padding: 1.25rem;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .hall-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }
        
        .hall-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }
        
        .hall-name a {
            color: inherit;
            text-decoration: none;
        }
        
        .hall-name a:hover {
            color: var(--accent, #a855f7);
        }
        
        .hall-city {
            color: var(--text-secondary, #888);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .hall-type {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .hall-type.boulder {
            background: rgba(168, 85, 247, 0.2);
            color: #a855f7;
        }
        
        .hall-type.lead {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }
        
        .hall-type.both {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }
        
        .hall-commercial {
            display: inline-block;
            margin-left: 0.5rem;
            padding: 0.25rem 0.5rem;
            border-radius: 20px;
            font-size: 0.75rem;
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }
        
        .halls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
        }
        
        /* View toggle */
        .view-toggle {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .view-btn {
            padding: 0.5rem 1rem;
            border: none;
            background: var(--card-bg, rgba(255,255,255,0.05));
            color: var(--text-primary, #fff);
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .view-btn.active {
            background: var(--accent, #a855f7);
            color: white;
        }
        
        @media (max-width: 600px) {
            #map {
                height: 300px;
                border-radius: 12px;
            }
            
            .stats-bar {
                gap: 0.5rem;
            }
            
            .stat-item {
                padding: 0.5rem 1rem;
            }
            
            .stat-number {
                font-size: 1.5rem;
            }
        }
    </style>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "name": "Klatrehaller i Danmark",
        "description": "Komplet oversigt over 50+ klatrehaller og bouldercentre i Danmark",
        "url": "https://boulder.holstjensen.nu/haller.html",
        "numberOfItems": 55
    }
    </script>
    <script defer data-domain="boulder.holstjensen.nu" src="https://analytics.holstjensen.eu/js/script.outbound-links.tagged-events.js"></script>
</head>
<body>
    <div class="app page-content">
        <header role="banner">
            <nav class="main-nav" role="navigation" aria-label="Hovednavigation">
                <a href="/" class="nav-logo">üßó Bouldering Lingo</a>
                <button class="nav-toggle" id="navToggle" aria-label="√Öbn menu" aria-expanded="false">
                    <span></span><span></span><span></span>
                </button>
                <ul class="nav-links" id="navLinks">
                    <li><a href="/">Flashcards</a></li>
                    <li><a href="/termer.html">Alle termer</a></li>
                    <li><a href="/kategorier.html">Kategorier</a></li>
                    <li><a href="/haller.html" class="active">Klatrehaller</a></li>
                    <li><a href="/gradering.html">Gradering</a></li>
                    <li><a href="/om.html">Om</a></li>
                </ul>
                <button class="theme-toggle" id="themeToggle" aria-label="Skift tema">
                    <span class="theme-icon sun">‚òÄÔ∏è</span>
                    <span class="theme-icon moon">üåô</span>
                </button>
            </nav>
        </header>

        <main class="content-section">
            <h1>Klatrehaller i Danmark</h1>
            <p class="intro-text">Find dit n√¶rmeste boulder- eller klatrecenter. Kortet viser alle haller, og du kan s√∏ge og filtrere nedenfor.</p>
            
            <!-- Stats -->
            <div class="stats-bar" id="statsBar">
                <div class="stat-item">
                    <div class="stat-number" id="totalCount">0</div>
                    <div class="stat-label">Haller i alt</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="boulderCount">0</div>
                    <div class="stat-label">Kun boulder</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="leadCount">0</div>
                    <div class="stat-label">Kun lead</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="bothCount">0</div>
                    <div class="stat-label">Begge dele</div>
                </div>
            </div>
            
            <!-- Map -->
            <div id="map"></div>
            
            <!-- Search & Filter -->
            <div class="search-filter-container">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="S√∏g efter hal eller by..." aria-label="S√∏g efter klatrehal">
                    <span class="search-icon">üîç</span>
                </div>
                <div class="filter-buttons" id="filterButtons">
                    <button class="filter-btn active" data-type="all">Alle</button>
                    <button class="filter-btn" data-type="boulder">Kun boulder</button>
                    <button class="filter-btn" data-type="lead">Kun lead/toprope</button>
                    <button class="filter-btn" data-type="both">Begge</button>
                </div>
            </div>

            <!-- Halls by Region -->
            <div id="hallsContainer"></div>

            <div class="no-results" id="noResults" hidden>
                <p>üòï Ingen haller fundet. Pr√∏v en anden s√∏gning.</p>
            </div>

            <section class="content-block" style="margin-top: 3rem;">
                <h2>üí° Kender du en hal vi mangler?</h2>
                <p>Denne liste opdateres l√∏bende. Hvis du kender en klatrehal der ikke er med, s√• <a href="mailto:mads@mahope.dk">send os en besked</a>!</p>
            </section>
        </main>
    </div>

    <footer class="site-footer" role="contentinfo">
        <div class="footer-content">
            <div class="footer-links">
                <a href="/">Flashcards</a>
                <a href="/termer.html">Alle termer</a>
                <a href="/kategorier.html">Kategorier</a>
                <a href="/haller.html">Klatrehaller</a>
                <a href="/gradering.html">Gradering</a>
                <a href="/hvad-er-bouldering.html">Hvad er bouldering?</a>
            </div>
            <p>Lavet med <span aria-label="k√¶rlighed">‚ù§Ô∏è</span> af <a href="https://mahope.dk" target="_blank" rel="noopener noreferrer">Mahope</a></p>
        </div>
    </footer>

    <script src="page-scripts.js"></script>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
    <script>
    (function() {
        'use strict';
        
        // Analytics helper
        function trackEvent(name, props = {}) {
            if (typeof plausible !== 'undefined') plausible(name, { props });
        }
        
        // ===== HALL DATA =====
        // Verified Danish climbing gyms with coordinates
        const halls = [
            // === HOVEDSTADEN - Kommercielle ===
            { name: "Boulders Sydhavn", city: "K√∏benhavn", region: "Hovedstaden", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 55.6539, lng: 12.5445, address: "Sj√¶llandsbroen 2-4" },
            { name: "Boulders Amager", city: "K√∏benhavn", region: "Hovedstaden", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 55.668281, lng: 12.606889, address: "Vermlandsgade 51" },
            { name: "Boulders Hvidovre", city: "Hvidovre", region: "Hovedstaden", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 55.608181, lng: 12.467452, address: "Aved√∏reholmen 90" },
            { name: "Boulders Valby", city: "K√∏benhavn", region: "Hovedstaden", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 55.657608, lng: 12.513902, address: "Gammel K√∏ge Landevej 55" },
            { name: "Boulders Vanl√∏se", city: "K√∏benhavn", region: "Hovedstaden", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 55.688057, lng: 12.490402, address: "Vanl√∏se All√© 100" },
            { name: "Blocs & Walls", city: "K√∏benhavn", region: "Hovedstaden", type: "both", commercial: true, url: "https://www.dbkk.dk", lat: 55.667671, lng: 12.612879, address: "Prags Boulevard 47" },
            
            // === HOVEDSTADEN - Foreninger ===
            { name: "N√∏rrebro Klatreklub", city: "K√∏benhavn", region: "Hovedstaden", type: "both", commercial: false, url: "https://nkk.klub-modul.dk", lat: 55.699199, lng: 12.542721, address: "N√∏rrebrogade 208" },
            { name: "DBKK Sundholm", city: "K√∏benhavn", region: "Hovedstaden", type: "both", commercial: false, url: "https://www.dbkk.dk", lat: 55.6580, lng: 12.6050, address: "Skotlands Plads 6, 2300 K√∏benhavn, Danmark" },
            { name: "DBKK Amager Nordv√¶g", city: "K√∏benhavn", region: "Hovedstaden", type: "lead", commercial: false, url: "https://www.dbkk.dk", lat: 55.6750, lng: 12.5900, address: "Vindm√∏llevej 6, 2300 K√∏benhavn S, Danmark" },
            { name: "Klatreklubben Skorstenen", city: "Albertslund", region: "Hovedstaden", type: "both", commercial: false, url: "https://www.skorstenen.dk", lat: 55.6580, lng: 12.3624, address: "Skolevej 6" },
            { name: "PL√òKS", city: "Skovlunde", region: "Hovedstaden", type: "both", commercial: false, url: "https://www.ploeks.dk", lat: 55.721798, lng: 12.411400, address: "Nissedalsstien, 2740 Ballerup, Danmark" },
            { name: "GaK Hiller√∏d Klatreklub", city: "Hiller√∏d", region: "Hovedstaden", type: "both", commercial: false, url: "https://www.gak.dk", lat: 55.9267, lng: 12.3100, address: "Hiller√∏dsholmsalle 2, 3400 Hiller√∏d, Danmark" },
            { name: "Klatreklub Nordsj√¶lland", city: "Humleb√¶k", region: "Hovedstaden", type: "both", commercial: false, url: "https://klatreklubnordsjaelland.dk", lat: 55.9630, lng: 12.5330, address: "Baunebjergvej 401, 3050 Humleb√¶k, Danmark" },
            { name: "S√∏borg Klatreklub", city: "S√∏borg", region: "Hovedstaden", type: "both", commercial: false, url: "https://www.facebook.com/S√∏borgKlatreklub", lat: 55.7340, lng: 12.5120, address: "S√∏borg" },
            { name: "Hedehusene IF Klatring", city: "Hedehusene", region: "Hovedstaden", type: "both", commercial: false, url: "https://www.hedehuseneif.dk", lat: 55.6500, lng: 12.2000, address: "Hovedgaden 498, 2640 Hedehusene, Danmark" },
            
            // === SJ√ÜLLAND ===
            { name: "Roskilde Klatreklub", city: "Roskilde", region: "Sj√¶lland", type: "both", commercial: false, url: "https://rokk.klub-modul.dk", lat: 55.634128, lng: 12.072046, address: "Holb√¶kvej, 4000 Roskilde, Danmark" },
            { name: "K√∏ge Klatreklub", city: "K√∏ge", region: "Sj√¶lland", type: "both", commercial: false, url: "https://koege-klatreklub.dk", lat: 55.4570, lng: 12.1820, address: "Skolevej 7, 4600 K√∏ge, Danmark" },
            { name: "Holb√¶k Klatreklub", city: "Holb√¶k", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.hkk4300.dk", lat: 55.7170, lng: 11.7130, address: "Havnevej 7, 4300 Holb√¶k, Danmark" },
            { name: "Klatreklubben Giraffen", city: "Hvals√∏", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.klatre.dk", lat: 55.5870, lng: 11.8620, address: "Skolevej 5, 4330 Hvals√∏, Danmark" },
            { name: "N√¶stved Klatreklub", city: "N√¶stved", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.naestvedklatreklub.dk", lat: 55.2290, lng: 11.7600, address: "Nyg√•rdsvej 43, 4700 N√¶stved, Danmark" },
            { name: "CRUX Klatreklub", city: "Sk√¶lsk√∏r", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.crux-klatreklub.dk", lat: 55.2530, lng: 11.2930, address: "Sor√∏vej 90, 4230 Sk√¶lsk√∏r, Danmark" },
            { name: "Sor√∏ Klatreklub", city: "Sor√∏", region: "Sj√¶lland", type: "both", commercial: false, url: "https://soroeklatreklub.klub-modul.dk", lat: 55.4310, lng: 11.5550, address: "Fulbyvej 4U, 4180 Sor√∏, Danmark" },
            { name: "Sydsj√¶llands Klatreklub", city: "Vordingborg", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.sydsjaellandsklatreklub.dk", lat: 55.0080, lng: 11.9100, address: "Solbakkevej 42, 4760 Vordingborg, Danmark" },
            { name: "Odsherred Boulders", city: "Odsherred", region: "Sj√¶lland", type: "boulder", commercial: false, url: "https://www.facebook.com/OdsherredBoulders", lat: 55.8500, lng: 11.6000, address: "Odsherred" },
            { name: "Skibby Klatreklub", city: "Skibby", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.skibbyklatreklub.dk", lat: 55.7520, lng: 11.9600, address: "Sels√∏vej 16, 4050 Skibby, Danmark" },
            { name: "Slangerup Klatreklub", city: "Slangerup", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.holdsport.net", lat: 55.8500, lng: 12.1800, address: "Slangerup Idr√¶ts & Kulturcenter, Idr√¶tsvej 5, 3550 Slangerup, Danmark" },
            { name: "Torup Klatreklub", city: "Torup", region: "Sj√¶lland", type: "both", commercial: false, url: "https://torupklatreklub.klub-modul.dk", lat: 55.9300, lng: 12.0500, address: "H√∏gendrupvej 6, 3390 Hundested, Danmark" },
            { name: "M√∏ns Klatreklub", city: "M√∏n", region: "Sj√¶lland", type: "both", commercial: false, url: "https://monsklatreklub.klub-modul.dk", lat: 54.9800, lng: 12.3500, address: "Platanvej 40, 4780 Stege, Danmark" },
            { name: "Nyk√∏bing Falster Klatreklub", city: "Nyk√∏bing F", region: "Sj√¶lland", type: "both", commercial: false, url: "https://www.facebook.com/Nyk√∏bingFalsterKlatreklub", lat: 54.7690, lng: 11.8760, address: "Nyk√∏bing F" },
            
            // === MIDTJYLLAND - Kommercielle ===
            { name: "Boulders Aarhus Nord", city: "Aarhus", region: "Midtjylland", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 56.173731, lng: 10.187434, address: "Katrinebjergvej 105" },
            { name: "Boulders Aarhus City", city: "Aarhus", region: "Midtjylland", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 56.1560, lng: 10.2030, address: "Ankersgade 12C, 8000 Aarhus C, Danmark" },
            { name: "Boulders Aarhus Syd", city: "Aarhus", region: "Midtjylland", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 56.1200, lng: 10.1700, address: "S√∏ren Nymarks Vej 6A, st. 6, 8270 H√∏jbjerg" },
            { name: "Boulders Aarhus Aaby", city: "Aarhus", region: "Midtjylland", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 56.1620, lng: 10.1450, address: "S√∏ren Frichs Vej 54" },
            
            // === MIDTJYLLAND - Foreninger ===
            { name: "Aarhus Klatreklub", city: "Aarhus", region: "Midtjylland", type: "both", commercial: false, url: "https://www.aarhusklatreklub.dk", lat: 56.159023, lng: 10.134767, address: "Karen Blixens Boulevard 27E" },
            { name: "√òstjysk Klatreklub", city: "Horsens", region: "Midtjylland", type: "both", commercial: false, url: "https://www.ojkk.dk", lat: 55.840287, lng: 9.815342, address: "S√∏nderg√•rdsalle 24" },
            { name: "Silkeborg Klatreklub", city: "Silkeborg", region: "Midtjylland", type: "both", commercial: false, url: "https://silkeborgklatreklub.klub-modul.dk", lat: 56.1700, lng: 9.5460, address: "Skoletorvet 1, 8600 Silkeborg, Danmark" },
            { name: "Viborg Klatreklub", city: "Viborg", region: "Midtjylland", type: "both", commercial: false, url: "https://viborgklatreklub.dk", lat: 56.4500, lng: 9.4000, address: "Vinkelvej 32, 8800 Viborg, Danmark" },
            { name: "Herning Klatreklub", city: "Herning", region: "Midtjylland", type: "both", commercial: false, url: "https://www.facebook.com/herningklatreklub", lat: 56.1390, lng: 8.9760, address: "Herning" },
            { name: "Holstebloc", city: "Holstebro", region: "Midtjylland", type: "boulder", commercial: false, url: "https://slagteriet.dk", lat: 56.3600, lng: 8.6170, address: "Struervej 32, 7500 Holstebro, Danmark" },
            { name: "Ry Klatreklub", city: "Ry", region: "Midtjylland", type: "both", commercial: false, url: "https://ryklatreklub.klub-modul.dk", lat: 56.0890, lng: 9.7670, address: "Skanderborgvej 50, 8680 Ry, Danmark" },
            { name: "Hammel Klatreklub", city: "Hammel", region: "Midtjylland", type: "both", commercial: false, url: "https://www.facebook.com/hammelklatreklub", lat: 56.2520, lng: 9.8680, address: "Industrivej 6B, 8450 Hammel, Danmark" },
            { name: "IFM Klatreklub", city: "Ryomg√•rd", region: "Midtjylland", type: "both", commercial: false, url: "https://ifmklatreklub.klub-modul.dk", lat: 56.3890, lng: 10.5050, address: "Marienhoffvej 13, 8550 Ryomg√•rd, Danmark" },
            
            // === SYDDANMARK - Kommercielle ===
            { name: "Boulders Odense", city: "Odense", region: "Syddanmark", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 55.3980, lng: 10.3880, address: "Wichmannsgade 11, 5000 Odense C" },
            
            // === SYDDANMARK - Foreninger ===
            { name: "Odense Klatreklub", city: "Odense", region: "Syddanmark", type: "lead", commercial: false, url: "https://odenseklatreklub.dk", lat: 55.393444, lng: 10.367083, address: "Roersvej, 5000 Odense, Danmark" },
            { name: "Odense Boulderklub", city: "Odense", region: "Syddanmark", type: "boulder", commercial: false, url: "https://www.odenseboulder.dk", lat: 55.392327, lng: 10.363745, address: "Gr√∏nl√∏kkevej 4B, 5000 Odense C" },
            { name: "Odense SportsKlatreKlub", city: "Odense", region: "Syddanmark", type: "both", commercial: false, url: "https://www.newoskk.dk", lat: 55.3950, lng: 10.3800, address: "Odense" },
            { name: "Nyborg Klatreklub", city: "Nyborg", region: "Syddanmark", type: "both", commercial: false, url: "https://nyborgklatreklub.klub-modul.dk", lat: 55.3130, lng: 10.7900, address: "Skolebakken 13, 5800 Nyborg, Danmark" },
            { name: "Svendborg Klatreklub", city: "Svendborg", region: "Syddanmark", type: "both", commercial: false, url: "https://www.svendborg-gf.dk", lat: 55.057218, lng: 10.576774, address: "Ryttervej 70, 5700 Svendborg, Danmark" },
            { name: "Kolding Klatreklub", city: "Kolding", region: "Syddanmark", type: "both", commercial: false, url: "https://koldingklatreklub.klub-modul.dk", lat: 55.483197, lng: 9.476421, address: "Dalbygade, 6000 Kolding, Danmark" },
            { name: "Esbjerg Boulderklub", city: "Esbjerg", region: "Syddanmark", type: "boulder", commercial: false, url: "https://www.esbjergboulderklub.dk", lat: 55.477595, lng: 8.487253, address: "Strandby Kirkevej 36, 6705 Esbjerg, Danmark" },
            { name: "Ribe Klatreklub", city: "Ribe", region: "Syddanmark", type: "both", commercial: false, url: "https://www.ribeklatreklub.dk", lat: 55.3280, lng: 8.7650, address: "Sct. Pedersgade 16, 6760 Ribe, Danmark" },
            { name: "Haderslev Klatreklub", city: "Haderslev", region: "Syddanmark", type: "both", commercial: false, url: "https://haderslevklatreklub.klub-modul.dk", lat: 55.2530, lng: 9.4890, address: "Christian X's Vej 41, 6100 Haderslev, Danmark" },
            { name: "S√∏nderborg Klatreklub", city: "S√∏nderborg", region: "Syddanmark", type: "both", commercial: false, url: "https://soenderborgklatreklub.dk", lat: 54.9090, lng: 9.7920, address: "Str√∏bjergvej 1, Hal 2, 6400 S√∏nderborg, Danmark" },
            { name: "Bramming Klatreklub", city: "Bramming", region: "Syddanmark", type: "both", commercial: false, url: "https://brammingklatreklub.klub-modul.dk", lat: 55.4710, lng: 8.7070, address: "Idr√¶ts All√© 10, 6740 Bramming, Danmark" },
            { name: "Brandbjerg Klatreklub", city: "Jelling", region: "Syddanmark", type: "both", commercial: false, url: "https://brandbjergklatreklub.dk", lat: 55.7560, lng: 9.4220, address: "Vejlevej 5A, 7300 Jelling, Danmark" },
            { name: "Fireh√∏je Klatring", city: "Vandel", region: "Syddanmark", type: "both", commercial: false, url: "https://fireh√∏jeif.dk", lat: 55.711565, lng: 9.210132, address: "Skolevej 6, 7184 Vandel, Danmark" },
            
            // === NORDJYLLAND - Kommercielle ===
            { name: "Boulders Aalborg", city: "Aalborg", region: "Nordjylland", type: "boulder", commercial: true, url: "https://boulders.dk", lat: 57.029041, lng: 9.975500, address: "Skjernvej 4A, 9220 Aalborg √òst" },
            
            // === NORDJYLLAND - Foreninger ===
            { name: "Vertical Hj√∏rring Klatreklub", city: "Hj√∏rring", region: "Nordjylland", type: "both", commercial: false, url: "https://hjoerring-klatreklub.dk", lat: 57.4640, lng: 9.9820, address: "Skolevangen 45, 9800 Hj√∏rring, Danmark" },
            { name: "Thy Frilufts- & Klatreklub", city: "Thisted", region: "Nordjylland", type: "both", commercial: false, url: "https://klatreklub.dk", lat: 56.9550, lng: 8.6940, address: "√òster Alle 10, 7752 Snedsted, Danmark" },
            { name: "TGI Boulders", city: "Klitm√∏ller", region: "Nordjylland", type: "boulder", commercial: false, url: "https://tgi.nu", lat: 57.0390, lng: 8.4880, address: "Klitm√∏ller" },
            { name: "Ulsted Klatreklub", city: "Ulsted", region: "Nordjylland", type: "both", commercial: false, url: "https://www.klatresteder.dk", lat: 57.0900, lng: 10.2200, address: "Ulsted" },
            { name: "Vestjysk Klatreklub", city: "Hjerm", region: "Nordjylland", type: "both", commercial: false, url: "https://www.hjermklatreklub.dk", lat: 56.4340, lng: 8.5170, address: "Vestre Hovedgade 34B, 7560 Hjerm, Danmark" },
            
            // === BORNHOLM ===
            { name: "Bornholms Klatreklub", city: "R√∏nne", region: "Bornholm", type: "both", commercial: false, url: "https://www.bornholmsklatreklub.dk", lat: 55.1010, lng: 14.7060, address: "Dampm√∏llegade 24, 3700 R√∏nne, Danmark" },
            { name: "Allinge-Sandvig Klatreklub", city: "Allinge", region: "Bornholm", type: "both", commercial: false, url: "https://www.facebook.com/AllingeSandvigKlatreklub", lat: 55.2730, lng: 14.7950, address: "Agernvej 4, 3770 Allinge, Danmark" }
        ];
        
        // Region order
        const regionOrder = ["Hovedstaden", "Sj√¶lland", "Midtjylland", "Syddanmark", "Nordjylland", "Bornholm"];
        
        // ===== INITIALIZE =====
        let map = null;
        let markers = [];
        
        function init() {
            updateStats();
            initMap();
            renderHalls();
            initFilters();
        }
        
        // ===== STATS =====
        function updateStats() {
            const total = halls.length;
            const boulder = halls.filter(h => h.type === 'boulder').length;
            const lead = halls.filter(h => h.type === 'lead').length;
            const both = halls.filter(h => h.type === 'both').length;
            
            document.getElementById('totalCount').textContent = total;
            document.getElementById('boulderCount').textContent = boulder;
            document.getElementById('leadCount').textContent = lead;
            document.getElementById('bothCount').textContent = both;
        }
        
        // ===== MAP =====
        function initMap() {
            // Center on Denmark
            map = L.map('map').setView([56.0, 10.5], 7);
            
            // Add OpenStreetMap tiles
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);
            
            // Add markers
            addMarkers(halls);
        }
        
        function addMarkers(hallsToShow) {
            // Clear existing markers
            markers.forEach(m => map.removeLayer(m));
            markers = [];
            
            hallsToShow.forEach(hall => {
                if (hall.lat && hall.lng) {
                    const typeLabel = hall.type === 'boulder' ? 'Boulder' : 
                                     hall.type === 'lead' ? 'Lead/Toprope' : 'Boulder + Lead';
                    const typeColor = hall.type === 'boulder' ? '#a855f7' : 
                                     hall.type === 'lead' ? '#3b82f6' : '#22c55e';
                    
                    const icon = L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="background: ${typeColor}; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>`,
                        iconSize: [24, 24],
                        iconAnchor: [12, 12]
                    });
                    
                    const marker = L.marker([hall.lat, hall.lng], { icon })
                        .bindPopup(`
                            <div class="popup-title">${hall.name}</div>
                            <div class="popup-type">${typeLabel}${hall.commercial ? ' ‚Ä¢ Kommerciel' : ' ‚Ä¢ Forening'}</div>
                            <a href="${hall.url}" target="_blank" rel="noopener" class="popup-link">Bes√∏g hjemmeside ‚Üí</a>
                        `)
                        .addTo(map);
                    
                    markers.push(marker);
                }
            });
        }
        
        // ===== RENDER HALLS =====
        function renderHalls(filter = 'all', search = '') {
            const container = document.getElementById('hallsContainer');
            container.innerHTML = '';
            
            const searchLower = search.toLowerCase().trim();
            
            // Filter halls
            let filteredHalls = halls.filter(hall => {
                const matchesType = filter === 'all' || hall.type === filter;
                const matchesSearch = !searchLower || 
                    hall.name.toLowerCase().includes(searchLower) ||
                    hall.city.toLowerCase().includes(searchLower) ||
                    hall.region.toLowerCase().includes(searchLower);
                return matchesType && matchesSearch;
            });
            
            // Update map markers
            addMarkers(filteredHalls);
            
            // Show no results message
            const noResults = document.getElementById('noResults');
            if (filteredHalls.length === 0) {
                noResults.hidden = false;
                return;
            }
            noResults.hidden = true;
            
            // Group by region
            const byRegion = {};
            filteredHalls.forEach(hall => {
                if (!byRegion[hall.region]) byRegion[hall.region] = [];
                byRegion[hall.region].push(hall);
            });
            
            // Render each region
            regionOrder.forEach(region => {
                if (!byRegion[region]) return;
                
                const regionHalls = byRegion[region];
                const section = document.createElement('section');
                section.className = 'region-section';
                
                section.innerHTML = `
                    <h2 class="region-header">
                        ${region}
                        <span class="region-count">(${regionHalls.length} ${regionHalls.length === 1 ? 'hal' : 'haller'})</span>
                    </h2>
                    <div class="halls-grid">
                        ${regionHalls.map(hall => `
                            <article class="hall-card" data-type="${hall.type}">
                                <h3 class="hall-name">
                                    <a href="${hall.url}" target="_blank" rel="noopener">${hall.name}</a>
                                </h3>
                                <p class="hall-city">${hall.city}${hall.address ? ` ‚Ä¢ ${hall.address}` : ''}</p>
                                <span class="hall-type ${hall.type}">
                                    ${hall.type === 'boulder' ? 'ü™® Boulder' : 
                                      hall.type === 'lead' ? 'üßó Lead/Toprope' : 'üèîÔ∏è Begge'}
                                </span>
                                ${hall.commercial ? '<span class="hall-commercial">Kommerciel</span>' : ''}
                            </article>
                        `).join('')}
                    </div>
                `;
                
                container.appendChild(section);
            });
        }
        
        // ===== FILTERS =====
        function initFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const searchInput = document.getElementById('searchInput');
            let currentFilter = 'all';
            
            filterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentFilter = btn.dataset.type;
                    trackEvent('Filter', { category: currentFilter, page: 'haller' });
                    renderHalls(currentFilter, searchInput.value);
                });
            });
            
            let searchTimeout;
            searchInput.addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    renderHalls(currentFilter, searchInput.value);
                    // Track search if query is meaningful
                    if (searchInput.value.trim().length >= 2) {
                        trackEvent('Search', { query: searchInput.value.trim(), page: 'haller' });
                    }
                }, 500);
            });
            
            // Track hall clicks
            document.getElementById('hallsContainer').addEventListener('click', (e) => {
                const link = e.target.closest('a[href^="http"]');
                if (link) {
                    const hallCard = link.closest('.hall-card');
                    const hallName = hallCard?.querySelector('.hall-name a')?.textContent;
                    if (hallName) {
                        trackEvent('Hall Click', { hall: hallName, url: link.href });
                    }
                }
            });
        }
        
        // Run on DOM ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    })();
    </script>
</body>
</html>

